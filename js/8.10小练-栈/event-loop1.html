<script>
    //  0 2 3 1
    async function foo() {
        await bar(); 
        console.log(1); // 微2
    }
    async function bar() {
        console.log(0)  // 1
        Promise.resolve(3).then(console.log)   // 微1
        return new Promise((resolve, reject) => {
            console.log(2)   // 2
            resolve();
        })
    }
    foo()  // start
</script>